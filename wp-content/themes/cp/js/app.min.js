"use strict";

$(document).ready(function () {
  $(window).on('load', function () {
    var headerLocation = $("header").offset();

    if ($("body").hasClass("home")) {
      if (headerLocation.top < 70) {
        $(".header").addClass("transparent-header");
      } else if (headerLocation.top > 70 && headerLocation.top < 600) {
        $(".header").addClass('header-visibility-none');
      }
    }
  });
  $(".nav-tools__search").on("click", function () {
    $(".nav-tools__search-block_click").toggleClass("nav-tools__search-block_click-show");
    $(".nav-tools__search").toggleClass("nav-tools-close"); // $('.header').toggleClass('header-onclick-search_and_burg');

    if ($(".nav-tools__search-block_click-show")) {
      $(".nav-tools__burger").removeClass("nav-tools__burger-open");
      $(".burger-menu__block").removeClass("burger-menu__block-show");
    }
  });
  $(".nav-tools__burger").on("click", function () {
    $(".nav-tools__burger").toggleClass("nav-tools__burger-open");
    $(".burger-menu__block").toggleClass("burger-menu__block-show");

    if ($(".burger-menu__block-show")) {
      $(".nav-tools__search-block_click").removeClass("nav-tools__search-block_click-show");
      $(".nav-tools__search").removeClass("nav-tools-close");
    }
  });
  var p = $(".popup__overlay");
  $(".popup__toggle").click(function () {
    p.addClass("popup_open");
  });
  $(".popup__close").click(function () {
    p.removeClass("popup_open");
  });
  $(function () {
    $(".popup__toggle").bind("click", function (e) {
      e.preventDefault();
    });
  });
  $("#textArea-connect").on("keydown keyup", function () {
    this.style.height = "1px";
    this.style.height = this.scrollHeight + "px";
    this.style.transition = "height .3s ease";
  });
  var searchBlock = $(".nav-tools__search-block_click");
  var menuBlock = $(".burger-menu__block");

  if ($("body").hasClass("home")) {
    $(window).scroll(function () {
      if ($(document).scrollTop() > 70 && $(document).scrollTop() <= 600) {
        if (searchBlock.hasClass("nav-tools__search-block_click-show") || menuBlock.hasClass("burger-menu__block-show")) {
          $(".header").css({
            'display': 'flex'
          });
        } else {
          $(".header").addClass('header-visibility-none');
        }

        ;
      } else {
        $(".header").removeClass('header-visibility-none');
      }

      if ($(document).scrollTop() >= 600) {
        $(".header").removeClass("transparent-header");
      } else {
        $(".header").addClass("transparent-header");
      }
    });
  } // Top-site slider functions 


  var sliderNavBlock = $(".slider-nav__block");
  var dot = $(".dot");
  var leftArrow = $(".nav-bar__prev");
  var rightArrow = $(".nav-bar__next"); // Function for desktop slider

  sliderNavBlock.click(function () {
    $(".slider-for__container").removeClass('content-active').hide().eq($(this).index()).addClass('content-active').show();
    $('.slider-nav__block').removeClass('active-block');
    $(this).addClass('active-block');
  }); // End of Desktop slider
  // Mobile slider

  dot.click(function () {
    // let sliderBlock = $(".slider-for__container"); 
    $(".dot").removeClass('dot-active');
    $(this).addClass('dot-active');
    $(".slider-for__container").removeClass('content-active').hide().eq($(".dot-active").index()).addClass('content-active').show();
    var currentColor = $('.content-active').children(".slider-nav__block-top").children(".nav__block-top__category").css('background');
    $(".dot").css({
      "background": "#9d9d9d"
    });
    $(this).css({
      "background": currentColor
    });
  });
  leftArrow.click(function () {
    var activeDot = $(".dot-active");
    var indexOfDot = $(".dot-active").index();
    var sliderBlock = $(".slider-for__container");
    activeDot.removeClass("dot-active");
    $(".dot").eq(indexOfDot - 1).addClass("dot-active");
    sliderBlock.removeClass('content-active').hide().eq($(".dot-active").index()).addClass('content-active').show();
    var currentColor = $('.content-active').children(".slider-nav__block-top").children(".nav__block-top__category").css('background');
    $(".dot-active").css({
      "background": currentColor
    });

    if ($(".dot-active").index() === 3) {
      $(".dot").eq(0).css({
        "background": "#9d9d9d"
      });
    }

    $(".dot").eq($(".dot-active").index() + 1).css({
      "background": "#9d9d9d"
    });
  });
  rightArrow.click(function () {
    var activeDot = $(".dot-active");
    var indexOfDot = $(".dot-active").index();
    var sliderBlock = $(".slider-for__container");
    activeDot.removeClass("dot-active");

    if (indexOfDot === 3) {
      $(".dot").eq(0).addClass("dot-active");
    } else {
      $(".dot").eq(indexOfDot + 1).addClass("dot-active");
    }

    sliderBlock.removeClass('content-active').hide().eq($(".dot-active").index()).addClass('content-active').show();
    var currentColor = $('.content-active').children(".slider-nav__block-top").children(".nav__block-top__category").css('background');
    $(".dot-active").css({
      "background": currentColor
    });
    $(".dot").eq($(".dot-active").index() - 1).css({
      "background": "#9d9d9d"
    });
  }); // End of mobile slider
  // End of top-site slider functions

  $('.slider-single').slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    arrows: true,
    fade: false,
    adaptiveHeight: true,
    nextArrow: '<div class="arrow-next-cont">  <svg class="icon"><use xlink:href="#right-arrow" /></svg> </div>',
    prevArrow: '<div class="arrow-prev-cont">  <svg class="icon"><use xlink:href="#left-arrow" /></svg> </div>',
    infinite: false,
    useTransform: true,
    speed: 400,
    cssEase: 'cubic-bezier(0.77, 0, 0.18, 1)'
  });
  $('.slider-nav-about').on('init', function (event, slick) {
    $('.slider-nav-about .slick-slide.slick-current').addClass('is-active');
  }).slick({
    slidesToShow: 5,
    slidesToScroll: 5,
    dots: false,
    arrows: false,
    focusOnSelect: false,
    infinite: false,
    responsive: [{
      breakpoint: 1024,
      settings: {
        slidesToShow: 5,
        slidesToScroll: 5
      }
    }, {
      breakpoint: 640,
      settings: {
        slidesToShow: 4,
        slidesToScroll: 4
      }
    }, {
      breakpoint: 420,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    }]
  });
  $('.slider-single').on('afterChange', function (event, slick, currentSlide) {
    $('.slider-nav-about').slick('slickGoTo', currentSlide);
    var currrentNavSlideElem = '.slider-nav-about .slick-slide[data-slick-index="' + currentSlide + '"]';
    $('.slider-nav-about .slick-slide.is-active').removeClass('is-active');
    $(currrentNavSlideElem).addClass('is-active');
  });
  $('.slider-nav-about').on('click', '.slick-slide', function (event) {
    event.preventDefault();
    var goToSingleSlide = $(this).data('slick-index');
    $('.slider-single').slick('slickGoTo', goToSingleSlide);
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIndpbmRvdyIsIm9uIiwiaGVhZGVyTG9jYXRpb24iLCJvZmZzZXQiLCJoYXNDbGFzcyIsInRvcCIsImFkZENsYXNzIiwidG9nZ2xlQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInAiLCJjbGljayIsImJpbmQiLCJlIiwicHJldmVudERlZmF1bHQiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsInRyYW5zaXRpb24iLCJzZWFyY2hCbG9jayIsIm1lbnVCbG9jayIsInNjcm9sbCIsInNjcm9sbFRvcCIsImNzcyIsInNsaWRlck5hdkJsb2NrIiwiZG90IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImhpZGUiLCJlcSIsImluZGV4Iiwic2hvdyIsImN1cnJlbnRDb2xvciIsImNoaWxkcmVuIiwiYWN0aXZlRG90IiwiaW5kZXhPZkRvdCIsInNsaWRlckJsb2NrIiwic2xpY2siLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImFycm93cyIsImZhZGUiLCJhZGFwdGl2ZUhlaWdodCIsIm5leHRBcnJvdyIsInByZXZBcnJvdyIsImluZmluaXRlIiwidXNlVHJhbnNmb3JtIiwic3BlZWQiLCJjc3NFYXNlIiwiZXZlbnQiLCJkb3RzIiwiZm9jdXNPblNlbGVjdCIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJjdXJyZW50U2xpZGUiLCJjdXJycmVudE5hdlNsaWRlRWxlbSIsImdvVG9TaW5nbGVTbGlkZSIsImRhdGEiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxDQUFDLENBQUNDLFFBQUQsQ0FBRCxDQUFZQyxLQUFaLENBQWtCLFlBQVk7QUFDNUJGLEVBQUFBLENBQUMsQ0FBQ0csTUFBRCxDQUFELENBQVVDLEVBQVYsQ0FBYSxNQUFiLEVBQXFCLFlBQVk7QUFDL0IsUUFBSUMsY0FBYyxHQUFHTCxDQUFDLENBQUMsUUFBRCxDQUFELENBQVlNLE1BQVos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QUQsQ0FBd0JqRCxRQUF4QixDQUFpQyxXQUFqQztBQUNELEdBTEQ7QUFPQVQsRUFBQUEsQ0FBQyxDQUFDLG1CQUFELENBQUQsQ0FBdUJJLEVBQXZCLENBQTBCLE9BQTFCLEVBQW1DLGNBQW5DLEVBQW1ELFVBQVMrQyxLQUFULEVBQWdCO0FBQ2pFQSxJQUFBQSxLQUFLLENBQUNuQyxjQUFOO0FBQ0EsUUFBSTJDLGVBQWUsR0FBRzNELENBQUMsQ0FBQyxJQUFELENBQUQsQ0FBUTRELElBQVIsQ0FBYSxhQUFiLENBQXRCO0FBRUE1RCxJQUFBQSxDQUFDLENBQUMsZ0JBQUQsQ0FBRCxDQUFvQnVDLEtBQXBCLENBQTBCLFdBQTFCLEVBQXVDb0IsZUFBdkM7QUFDRCxHQUxEO0FBVUQsQ0FyTkQiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaGVhZGVyTG9jYXRpb24gPSAkKFwiaGVhZGVyXCIpLm9mZnNldCgpO1xyXG4gICAgaWYgKCQoXCJib2R5XCIpLmhhc0NsYXNzKFwiaG9tZVwiKSkge1xyXG4gICAgICBpZiAoaGVhZGVyTG9jYXRpb24udG9wIDwgNzApIHtcclxuICAgICAgICAkKFwiLmhlYWRlclwiKS5hZGRDbGFzcyhcInRyYW5zcGFyZW50LWhlYWRlclwiKTtcclxuICAgICAgfSBlbHNlIGlmIChoZWFkZXJMb2NhdGlvbi50b3AgPiA3MCAmJiBoZWFkZXJMb2NhdGlvbi50b3AgPCA2MDApIHtcclxuICAgICAgICAkKFwiLmhlYWRlclwiKS5hZGRDbGFzcygnaGVhZGVyLXZpc2liaWxpdHktbm9uZScpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuICAkKFwiLm5hdi10b29sc19fc2VhcmNoXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5uYXYtdG9vbHNfX3NlYXJjaC1ibG9ja19jbGlja1wiKS50b2dnbGVDbGFzcyhcIm5hdi10b29sc19fc2VhcmNoLWJsb2NrX2NsaWNrLXNob3dcIik7XHJcbiAgICAkKFwiLm5hdi10b29sc19fc2VhcmNoXCIpLnRvZ2dsZUNsYXNzKFwibmF2LXRvb2xzLWNsb3NlXCIpOyAvLyAkKCcuaGVhZGVyJykudG9nZ2xlQ2xhc3MoJ2hlYWRlci1vbmNsaWNrLXNlYXJjaF9hbmRfYnVyZycpO1xyXG5cclxuICAgIGlmICgkKFwiLm5hdi10b29sc19fc2VhcmNoLWJsb2NrX2NsaWNrLXNob3dcIikpIHtcclxuICAgICAgJChcIi5uYXYtdG9vbHNfX2J1cmdlclwiKS5yZW1vdmVDbGFzcyhcIm5hdi10b29sc19fYnVyZ2VyLW9wZW5cIik7XHJcbiAgICAgICQoXCIuYnVyZ2VyLW1lbnVfX2Jsb2NrXCIpLnJlbW92ZUNsYXNzKFwiYnVyZ2VyLW1lbnVfX2Jsb2NrLXNob3dcIik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgJChcIi5uYXYtdG9vbHNfX2J1cmdlclwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoXCIubmF2LXRvb2xzX19idXJnZXJcIikudG9nZ2xlQ2xhc3MoXCJuYXYtdG9vbHNfX2J1cmdlci1vcGVuXCIpO1xyXG4gICAgJChcIi5idXJnZXItbWVudV9fYmxvY2tcIikudG9nZ2xlQ2xhc3MoXCJidXJnZXItbWVudV9fYmxvY2stc2hvd1wiKTtcclxuXHJcbiAgICBpZiAoJChcIi5idXJnZXItbWVudV9fYmxvY2stc2hvd1wiKSkge1xyXG4gICAgICAkKFwiLm5hdi10b29sc19fc2VhcmNoLWJsb2NrX2NsaWNrXCIpLnJlbW92ZUNsYXNzKFwibmF2LXRvb2xzX19zZWFyY2gtYmxvY2tfY2xpY2stc2hvd1wiKTtcclxuICAgICAgJChcIi5uYXYtdG9vbHNfX3NlYXJjaFwiKS5yZW1vdmVDbGFzcyhcIm5hdi10b29scy1jbG9zZVwiKTtcclxuICAgIH1cclxuICB9KTtcclxuICB2YXIgcCA9ICQoXCIucG9wdXBfX292ZXJsYXlcIik7XHJcbiAgJChcIi5wb3B1cF9fdG9nZ2xlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHAuYWRkQ2xhc3MoXCJwb3B1cF9vcGVuXCIpO1xyXG4gIH0pO1xyXG4gICQoXCIucG9wdXBfX2Nsb3NlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHAucmVtb3ZlQ2xhc3MoXCJwb3B1cF9vcGVuXCIpO1xyXG4gIH0pO1xyXG4gICQoZnVuY3Rpb24gKCkge1xyXG4gICAgJChcIi5wb3B1cF9fdG9nZ2xlXCIpLmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICAkKFwiI3RleHRBcmVhLWNvbm5lY3RcIikub24oXCJrZXlkb3duIGtleXVwXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gXCIxcHhcIjtcclxuICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcbiAgICB0aGlzLnN0eWxlLnRyYW5zaXRpb24gPSBcImhlaWdodCAuM3MgZWFzZVwiO1xyXG4gIH0pO1xyXG4gIHZhciBzZWFyY2hCbG9jayA9ICQoXCIubmF2LXRvb2xzX19zZWFyY2gtYmxvY2tfY2xpY2tcIik7XHJcbiAgdmFyIG1lbnVCbG9jayA9ICQoXCIuYnVyZ2VyLW1lbnVfX2Jsb2NrXCIpO1xyXG5cclxuICBpZiAoJChcImJvZHlcIikuaGFzQ2xhc3MoXCJob21lXCIpKSB7XHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpID4gNzAgJiYgJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgPD0gNjAwKSB7XHJcbiAgICAgICAgaWYgKHNlYXJjaEJsb2NrLmhhc0NsYXNzKFwibmF2LXRvb2xzX19zZWFyY2gtYmxvY2tfY2xpY2stc2hvd1wiKSB8fCBtZW51QmxvY2suaGFzQ2xhc3MoXCJidXJnZXItbWVudV9fYmxvY2stc2hvd1wiKSkge1xyXG4gICAgICAgICAgJChcIi5oZWFkZXJcIikuY3NzKHtcclxuICAgICAgICAgICAgJ2Rpc3BsYXknOiAnZmxleCdcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkKFwiLmhlYWRlclwiKS5hZGRDbGFzcygnaGVhZGVyLXZpc2liaWxpdHktbm9uZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIuaGVhZGVyXCIpLnJlbW92ZUNsYXNzKCdoZWFkZXItdmlzaWJpbGl0eS1ub25lJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSA+PSA2MDApIHtcclxuICAgICAgICAkKFwiLmhlYWRlclwiKS5yZW1vdmVDbGFzcyhcInRyYW5zcGFyZW50LWhlYWRlclwiKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiLmhlYWRlclwiKS5hZGRDbGFzcyhcInRyYW5zcGFyZW50LWhlYWRlclwiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBcclxuICBcclxuICAvLyBUb3Atc2l0ZSBzbGlkZXIgZnVuY3Rpb25zIFxyXG4gIHZhciBzbGlkZXJOYXZCbG9jayA9ICQoXCIuc2xpZGVyLW5hdl9fYmxvY2tcIik7XHJcbiAgdmFyIGRvdCA9ICQoXCIuZG90XCIpO1xyXG4gIHZhciBsZWZ0QXJyb3cgPSAkKFwiLm5hdi1iYXJfX3ByZXZcIik7XHJcbiAgdmFyIHJpZ2h0QXJyb3cgPSAkKFwiLm5hdi1iYXJfX25leHRcIik7IC8vIEZ1bmN0aW9uIGZvciBkZXNrdG9wIHNsaWRlclxyXG5cclxuICBzbGlkZXJOYXZCbG9jay5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKFwiLnNsaWRlci1mb3JfX2NvbnRhaW5lclwiKS5yZW1vdmVDbGFzcygnY29udGVudC1hY3RpdmUnKS5oaWRlKCkuZXEoJCh0aGlzKS5pbmRleCgpKS5hZGRDbGFzcygnY29udGVudC1hY3RpdmUnKS5zaG93KCk7XHJcbiAgICAkKCcuc2xpZGVyLW5hdl9fYmxvY2snKS5yZW1vdmVDbGFzcygnYWN0aXZlLWJsb2NrJyk7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUtYmxvY2snKTtcclxuICB9KTsgLy8gRW5kIG9mIERlc2t0b3Agc2xpZGVyXHJcblxyXG4gIC8vIE1vYmlsZSBzbGlkZXJcclxuXHJcbiAgZG90LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIGxldCBzbGlkZXJCbG9jayA9ICQoXCIuc2xpZGVyLWZvcl9fY29udGFpbmVyXCIpOyBcclxuICAgICQoXCIuZG90XCIpLnJlbW92ZUNsYXNzKCdkb3QtYWN0aXZlJyk7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdkb3QtYWN0aXZlJyk7XHJcbiAgICAkKFwiLnNsaWRlci1mb3JfX2NvbnRhaW5lclwiKS5yZW1vdmVDbGFzcygnY29udGVudC1hY3RpdmUnKS5oaWRlKCkuZXEoJChcIi5kb3QtYWN0aXZlXCIpLmluZGV4KCkpLmFkZENsYXNzKCdjb250ZW50LWFjdGl2ZScpLnNob3coKTtcclxuICAgIHZhciBjdXJyZW50Q29sb3IgPSAkKCcuY29udGVudC1hY3RpdmUnKS5jaGlsZHJlbihcIi5zbGlkZXItbmF2X19ibG9jay10b3BcIikuY2hpbGRyZW4oXCIubmF2X19ibG9jay10b3BfX2NhdGVnb3J5XCIpLmNzcygnYmFja2dyb3VuZCcpO1xyXG4gICAgJChcIi5kb3RcIikuY3NzKHtcclxuICAgICAgXCJiYWNrZ3JvdW5kXCI6IFwiIzlkOWQ5ZFwiXHJcbiAgICB9KTtcclxuICAgICQodGhpcykuY3NzKHtcclxuICAgICAgXCJiYWNrZ3JvdW5kXCI6IGN1cnJlbnRDb2xvclxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgbGVmdEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhY3RpdmVEb3QgPSAkKFwiLmRvdC1hY3RpdmVcIik7XHJcbiAgICB2YXIgaW5kZXhPZkRvdCA9ICQoXCIuZG90LWFjdGl2ZVwiKS5pbmRleCgpO1xyXG4gICAgdmFyIHNsaWRlckJsb2NrID0gJChcIi5zbGlkZXItZm9yX19jb250YWluZXJcIik7XHJcbiAgICBhY3RpdmVEb3QucmVtb3ZlQ2xhc3MoXCJkb3QtYWN0aXZlXCIpO1xyXG4gICAgJChcIi5kb3RcIikuZXEoaW5kZXhPZkRvdCAtIDEpLmFkZENsYXNzKFwiZG90LWFjdGl2ZVwiKTtcclxuICAgIHNsaWRlckJsb2NrLnJlbW92ZUNsYXNzKCdjb250ZW50LWFjdGl2ZScpLmhpZGUoKS5lcSgkKFwiLmRvdC1hY3RpdmVcIikuaW5kZXgoKSkuYWRkQ2xhc3MoJ2NvbnRlbnQtYWN0aXZlJykuc2hvdygpO1xyXG4gICAgdmFyIGN1cnJlbnRDb2xvciA9ICQoJy5jb250ZW50LWFjdGl2ZScpLmNoaWxkcmVuKFwiLnNsaWRlci1uYXZfX2Jsb2NrLXRvcFwiKS5jaGlsZHJlbihcIi5uYXZfX2Jsb2NrLXRvcF9fY2F0ZWdvcnlcIikuY3NzKCdiYWNrZ3JvdW5kJyk7XHJcbiAgICAkKFwiLmRvdC1hY3RpdmVcIikuY3NzKHtcclxuICAgICAgXCJiYWNrZ3JvdW5kXCI6IGN1cnJlbnRDb2xvclxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCQoXCIuZG90LWFjdGl2ZVwiKS5pbmRleCgpID09PSAzKSB7XHJcbiAgICAgICQoXCIuZG90XCIpLmVxKDApLmNzcyh7XHJcbiAgICAgICAgXCJiYWNrZ3JvdW5kXCI6IFwiIzlkOWQ5ZFwiXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICQoXCIuZG90XCIpLmVxKCQoXCIuZG90LWFjdGl2ZVwiKS5pbmRleCgpICsgMSkuY3NzKHtcclxuICAgICAgXCJiYWNrZ3JvdW5kXCI6IFwiIzlkOWQ5ZFwiXHJcbiAgICB9KTtcclxuICB9KTtcclxuICByaWdodEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhY3RpdmVEb3QgPSAkKFwiLmRvdC1hY3RpdmVcIik7XHJcbiAgICB2YXIgaW5kZXhPZkRvdCA9ICQoXCIuZG90LWFjdGl2ZVwiKS5pbmRleCgpO1xyXG4gICAgdmFyIHNsaWRlckJsb2NrID0gJChcIi5zbGlkZXItZm9yX19jb250YWluZXJcIik7XHJcbiAgICBhY3RpdmVEb3QucmVtb3ZlQ2xhc3MoXCJkb3QtYWN0aXZlXCIpO1xyXG5cclxuICAgIGlmIChpbmRleE9mRG90ID09PSAzKSB7XHJcbiAgICAgICQoXCIuZG90XCIpLmVxKDApLmFkZENsYXNzKFwiZG90LWFjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoXCIuZG90XCIpLmVxKGluZGV4T2ZEb3QgKyAxKS5hZGRDbGFzcyhcImRvdC1hY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgc2xpZGVyQmxvY2sucmVtb3ZlQ2xhc3MoJ2NvbnRlbnQtYWN0aXZlJykuaGlkZSgpLmVxKCQoXCIuZG90LWFjdGl2ZVwiKS5pbmRleCgpKS5hZGRDbGFzcygnY29udGVudC1hY3RpdmUnKS5zaG93KCk7XHJcbiAgICB2YXIgY3VycmVudENvbG9yID0gJCgnLmNvbnRlbnQtYWN0aXZlJykuY2hpbGRyZW4oXCIuc2xpZGVyLW5hdl9fYmxvY2stdG9wXCIpLmNoaWxkcmVuKFwiLm5hdl9fYmxvY2stdG9wX19jYXRlZ29yeVwiKS5jc3MoJ2JhY2tncm91bmQnKTtcclxuICAgICQoXCIuZG90LWFjdGl2ZVwiKS5jc3Moe1xyXG4gICAgICBcImJhY2tncm91bmRcIjogY3VycmVudENvbG9yXHJcbiAgICB9KTtcclxuICAgICQoXCIuZG90XCIpLmVxKCQoXCIuZG90LWFjdGl2ZVwiKS5pbmRleCgpIC0gMSkuY3NzKHtcclxuICAgICAgXCJiYWNrZ3JvdW5kXCI6IFwiIzlkOWQ5ZFwiXHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgLy8gRW5kIG9mIG1vYmlsZSBzbGlkZXJcclxuICAvLyBFbmQgb2YgdG9wLXNpdGUgc2xpZGVyIGZ1bmN0aW9uc1xyXG4gIFxyXG5cclxuICAkKCcuc2xpZGVyLXNpbmdsZScpLnNsaWNrKHtcclxuICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgYXJyb3dzOiB0cnVlLFxyXG4gICAgZmFkZTogZmFsc2UsXHJcbiAgICBhZGFwdGl2ZUhlaWdodDogdHJ1ZSxcclxuICAgIG5leHRBcnJvdzogJzxkaXYgY2xhc3M9XCJhcnJvdy1uZXh0LWNvbnRcIj4gIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiI3JpZ2h0LWFycm93XCIgLz48L3N2Zz4gPC9kaXY+JyxcclxuICAgIHByZXZBcnJvdzogJzxkaXYgY2xhc3M9XCJhcnJvdy1wcmV2LWNvbnRcIj4gIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiI2xlZnQtYXJyb3dcIiAvPjwvc3ZnPiA8L2Rpdj4nLFxyXG4gICAgaW5maW5pdGU6IGZhbHNlLFxyXG4gICB1c2VUcmFuc2Zvcm06IHRydWUsXHJcbiAgICBzcGVlZDogNDAwLFxyXG4gICAgY3NzRWFzZTogJ2N1YmljLWJlemllcigwLjc3LCAwLCAwLjE4LCAxKScsXHJcbiAgfSk7XHJcbiBcclxuICAkKCcuc2xpZGVyLW5hdi1hYm91dCcpXHJcbiAgICAub24oJ2luaXQnLCBmdW5jdGlvbihldmVudCwgc2xpY2spIHtcclxuICAgICAgJCgnLnNsaWRlci1uYXYtYWJvdXQgLnNsaWNrLXNsaWRlLnNsaWNrLWN1cnJlbnQnKS5hZGRDbGFzcygnaXMtYWN0aXZlJyk7XHJcbiAgICB9KVxyXG4gICAgLnNsaWNrKHtcclxuICAgICAgc2xpZGVzVG9TaG93OiA1LFxyXG4gICAgICBzbGlkZXNUb1Njcm9sbDogNSxcclxuICAgICAgZG90czogZmFsc2UsXHJcbiAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgIGZvY3VzT25TZWxlY3Q6IGZhbHNlLFxyXG4gICAgICBpbmZpbml0ZTogZmFsc2UsXHJcbiAgICAgIHJlc3BvbnNpdmU6IFt7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMTAyNCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiA1LFxyXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDUsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNjQwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXHJcbiAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogNCxcclxuICAgICAgIH1cclxuICAgICAgfSwge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDQyMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDIsXHJcbiAgICAgfVxyXG4gICAgICB9XVxyXG4gICAgfSk7XHJcbiBcclxuICAkKCcuc2xpZGVyLXNpbmdsZScpLm9uKCdhZnRlckNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50LCBzbGljaywgY3VycmVudFNsaWRlKSB7XHJcbiAgICAkKCcuc2xpZGVyLW5hdi1hYm91dCcpLnNsaWNrKCdzbGlja0dvVG8nLCBjdXJyZW50U2xpZGUpO1xyXG4gICAgdmFyIGN1cnJyZW50TmF2U2xpZGVFbGVtID0gJy5zbGlkZXItbmF2LWFib3V0IC5zbGljay1zbGlkZVtkYXRhLXNsaWNrLWluZGV4PVwiJyArIGN1cnJlbnRTbGlkZSArICdcIl0nO1xyXG4gICAgJCgnLnNsaWRlci1uYXYtYWJvdXQgLnNsaWNrLXNsaWRlLmlzLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcclxuICAgICQoY3VycnJlbnROYXZTbGlkZUVsZW0pLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcclxuICB9KTtcclxuIFxyXG4gICQoJy5zbGlkZXItbmF2LWFib3V0Jykub24oJ2NsaWNrJywgJy5zbGljay1zbGlkZScsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGdvVG9TaW5nbGVTbGlkZSA9ICQodGhpcykuZGF0YSgnc2xpY2staW5kZXgnKTtcclxuIFxyXG4gICAgJCgnLnNsaWRlci1zaW5nbGUnKS5zbGljaygnc2xpY2tHb1RvJywgZ29Ub1NpbmdsZVNsaWRlKTtcclxuICB9KTtcclxuXHJcblxyXG5cclxuXHJcbn0pO1xyXG5cclxuXHJcbiJdLCJmaWxlIjoiYXBwLm1pbi5qcyJ9
